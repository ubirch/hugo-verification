{{ define "favicon" }}
{{ partial "page-favicon.html" . }}
{{ end }}

{{ define "pagetitle" }}
{{ partial "page-title.html" . }}
{{ end }}

{{ define "customstyles" }}
{{ partial "custom-styles.html" . }}
{{ end }}

{{ define "header" }}
{{ partial "page-header.html" . }}
{{ end }}

{{ define "verificationjs" }}
{{ $company := substr $.File.LogicalName 0 -3 }}
{{ $staticData := (index .Site.Data.v $company) }}

{{ if eq $staticData.use_without_access_token true }}
<script src="{{ $.Site.Params.verificationScriptUrl }}"></script>
{{ else }}
<script src="{{ $.Site.Params.verificationV2ScriptUrl }}"></script>
{{ end }}
{{ end }}

{{ define "main" }}
<input id="deploymentStage" hidden value="{{ $.Site.Params.stage }}">

{{ $company := substr $.File.LogicalName 0 -3 }}
{{ $staticData := (index .Site.Data.v $company) }}

{{ with .Params.verification_info_text }}
<div id="titleCard">
  <p>
    {{ . | markdownify }}
  </p>
</div>
{{ end }}

{{ if (eq $staticData.layout "coronalaboratory") }}

{{ with $staticData }}

{{ partial "verification-v2-script" (dict "accessTokens" .access_token "inputids" (slice "f" "b" "g" "p" "i" "d" "t" "r" "s") "hashalgorithm" "sha256" "separator" ";" "language" $.Site.Language  ) }}

{{ end }}

{{ else if (eq $staticData.layout "trafficsignsinventory") }}

{{ with $staticData }}

{{ partial "verification-v2-script" (dict "accessTokens" .access_token "formIdMapping" (slice "arn" "id" "ud" "bd" "bt" "ed" "et" "pc" "c" "d" "s" "fn" "tn" "fc" "tc") "inputids" (slice "ActionReferenceNumber" "ActionID" "SpecialUseDesc" "PeriodBeginDate" "PeriodBeginTime" "PeriodEndDate" "PeriodEndTime" "PostCode" "City" "District" "Street" "FromHouseNumber" "ToHouseNumber" "FromCrossroad" "ToCrossroad") "hashalgorithm" "sha256" "separator" ";" "language" $.Site.Language  ) }}

{{ end }}

{{ else if (eq $staticData.layout "vaccinationcertificate") }}

{{ with $staticData }}

{{ partial "verification-v2-script" (dict "accessTokens" .access_token "inputids" (slice "f" "g" "b" "p" "i" "d" "t" "r" "s") "optionalFormFieldIds" (slice "p") "hashalgorithm" "sha256" "separator" ";" "language" $.Site.Language  ) }}

{{ end }}

{{ else if (eq $staticData.layout "componentauthenticity") }}

{{ with $staticData }}

{{ partial "verification-v2-script" (dict "accessTokens" .access_token "inputids" (slice "md" "mf" "mfr" "pn" "sn" "tid") "hashalgorithm" "sha256" "separator" ";" "language" $.Site.Language  ) }}

{{ end }}

{{ end }}

<div id="verification">

  <div id="form">

    {{ if eq $staticData.demo_discaimer true }}
    <div id="demo-disclaimer" class="demo">
      {{ else }}
      <div id="demo-disclaimer" class="{{$.Site.Params.disclaimer}}">
        {{ end }}
        <p>DEMO DEMO DEMO DEMO</p>
      </div>

    <form id="gen_form" name="gen_form" onsubmit="verifyForm(); return false;">

      {{ if (eq $staticData.layout "coronalaboratory") }}

      {{ partial "coronalaboratory.html" . }}

      {{ else if (eq $staticData.layout "trafficsignsinventory") }}

      {{ partial "trafficsignsinventory.html" . }}

      {{ else if (eq $staticData.layout "vaccinationcertificate") }}

      {{ partial "vaccinationcertificate.html" . }}

      {{ else if (eq $staticData.layout "componentauthenticity") }}

      {{ partial "componentauthenticity.html" . }}

      {{ end }}
    </form>
      <div id="resultDiv">

        <div id="widgetDiv"></div>

      </div>
  </div>
</div>

{{ partial "about-ubirch-area.html" . }}

{{ end }}

{{ define "footer" }}{{ partial "page-footer.html" . }}{{ end }}
