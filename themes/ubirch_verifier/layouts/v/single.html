{{ define "favicon" }}
{{ partial "page-favicon.html" . }}
{{ end }}

{{ define "pagetitle" }}
{{ partial "page-title.html" . }}
{{ end }}

{{ define "customstyles" }}
{{ partial "custom-styles.html" . }}
{{ end }}

{{ define "header" }}
{{ partial "page-header.html" . }}
{{ end }}

{{ define "verificationjs" }}
{{ if eq .Params.layout "vaccinationcertificate" }}
<script src="{{ $.Site.Params.verificationV2ScriptUrl }}"></script>
{{ else }}
<script src="{{ $.Site.Params.verificationScriptUrl }}"></script>
{{ end }}
{{ end }}

{{ define "main" }}

{{ with .Params.verification_description_long }}
<div id="titleCard">
  <p>
    {{ . }}
  </p>
</div>
{{ end }}

{{ if (eq .Params.layout "coronalaboratory") }}

{{ partial "verification-script" (dict "inputids" (slice "f" "b" "g" "p" "i" "d" "t" "r" "s") "hashalgorithm" "sha256" "separator" ";" "language" .Site.Language  ) }}

{{ else if (eq .Params.layout "trafficsignsinventory") }}

{{ partial "verification-script" (dict "formIdMapping" (slice "arn" "id" "ud" "bd" "bt" "ed" "et" "pc" "c" "d" "s" "fn" "tn" "fc" "tc") "inputids" (slice "ActionReferenceNumber" "ActionID" "SpecialUseDesc" "PeriodBeginDate" "PeriodBeginTime" "PeriodEndDate" "PeriodEndTime" "PostCode" "City" "District" "Street" "FromHouseNumber" "ToHouseNumber" "FromCrossroad" "ToCrossroad") "hashalgorithm" "sha256" "separator" ";" "language" .Site.Language  ) }}

{{ else if (eq .Params.layout "vaccinationcertificate") }}

<input id="deploymentStage" hidden value="{{ $.Site.Params.stage }}">
{{ $company := substr $.File.LogicalName 0 -3 }}
{{ $staticData := (index .Site.Data.v $company) }}

{{ with $staticData }}

{{ partial "verification-v2-script" (dict "accessTokens" .access_token "inputids" (slice "f" "g" "b" "p" "i" "d" "t" "r" "s") "hashalgorithm" "sha256" "separator" ";" "language" .Site.Language  ) }}

{{ end }}

{{ end }}

<div id="verification">

  <div id="form">
    <div id="demo-disclaimer" class="{{$.Site.Params.disclaimer}}">
      <p>DEMO</p>
    </div>

    <form id="gen_form" name="gen_form" onsubmit="verifyForm(); return false;">

      {{ if (eq .Params.layout "coronalaboratory") }}

      {{ partial "coronalaboratory.html" . }}

      {{ else if (eq .Params.layout "trafficsignsinventory") }}

      {{ partial "trafficsignsinventory.html" . }}

      {{ else if (eq .Params.layout "vaccinationcertificate") }}

      {{ partial "vaccinationcertificate.html" . }}

      {{ end }}

      <div id="resutlDiv">

        <div id="widgetDiv"></div>

      </div>

    </form>
  </div>
</div>

{{ partial "about-ubirch-area.html" . }}

{{ end }}

{{ define "footer" }}{{ partial "page-footer.html" . }}{{ end }}
